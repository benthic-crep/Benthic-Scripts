#load libraries
library(tidyverse)
library(vegan)
adults <- read.csv("T:/Benthic/Projects/Swains 2023 Benthic Analysis/Data")
adults <- read.csv("T:/Benthic/Projects/Swains 2023 Benthic Analysis/Data/Swains_sitedata_TAXONCODE.csv")
#filter down to columns we care about
dat <- adults %>%
filter(ISLAND == "Swains") %>%
select(SITE, TAXONCODE, AdColDen, OBS_YEAR, DEPTH_BIN, LATITUDE, LONGITUDE, MIN_DEPTH_M, MAX_DEPTH_M)%>%
mutate_if(is.character,as.factor)
library(dplyr)
#filter down to columns we care about
dat <- adults %>%
filter(ISLAND == "Swains") %>%
select(SITE, TAXONCODE, AdColDen, OBS_YEAR, DEPTH_BIN, LATITUDE, LONGITUDE, MIN_DEPTH_M, MAX_DEPTH_M)%>%
mutate_if(is.character,as.factor)
View(adults)
#filter down to columns we care about
dat <- adults %>%
filter(ISLAND == "Swains") %>%
select(SITE, TAXONCODE, AdColDen, OBS_YEAR, DEPTH_BIN MIN_DEPTH_M, MAX_DEPTH_M)%>%
mutate_if(is.character,as.factor)
#filter down to columns we care about
dat <- adults %>%
filter(ISLAND == "Swains") %>%
select(SITE, TAXONCODE, AdColDen, OBS_YEAR, DEPTH_BIN, MIN_DEPTH_M, MAX_DEPTH_M)%>%
mutate_if(is.character,as.factor)
#filter down to columns we care about
dat <- adults %>%
filter(ISLAND == "Swains") %>%
select(SITE, TAXONCODE, AdColDen, OBS_YEAR, DEPTH_BIN, New_MIN_DEPTH_M, New_MAX_DEPTH_M)%>%
mutate_if(is.character,as.factor)
#filter down to columns we care about
dat <- adults %>%
filter(ISLAND == "Swains") %>%
select(SITE, TAXONCODE, AdColDen, OBS_YEAR, DEPTH_BIN, new_MIN_DEPTH_M, new_MAX_DEPTH_M)%>%
mutate_if(is.character,as.factor)
levels(dat$TAXONCODE)
#drop taxa with 0 density at Swains and build species matrix
dat <- dat %>%
filter(AdColDen > "0")%>%
spread(key = "TAXONCODE", value = "AdColDen")%>%
mutate_all(~replace_na(.,0))%>%
select(-SSSS, -UNKN)
?spread
#drop taxa with 0 density at Swains and build species matrix
dat <- dat %>%
filter(AdColDen > "0")%>%
tidyr::spread(key = "TAXONCODE", value = "AdColDen")%>%
mutate_all(~replace_na(.,0))%>%
select(-SSSS, -UNKN)
?replace_na
library(tidyr)
#drop taxa with 0 density at Swains and build species matrix
dat <- dat %>%
filter(AdColDen > "0")%>%
tidyr::spread(key = "TAXONCODE", value = "AdColDen")%>%
mutate_all(~replace_na(.,0))%>%
select(-SSSS, -UNKN)
#drop taxa with 0 density at Swains and build species matrix
dat <- dat %>%
filter(AdColDen > "0")%>%
tidyr::spread(key = "TAXONCODE", value = "AdColDen")%>%
dplyr::mutate_all(~replace_na(.,0))%>%
select(-SSSS, -UNKN)
